apiVersion: automation.cloudbees.io/v1alpha1
kind: workflow
name: Web UI Test Pipeline

on:
  push:
    branches:
      - '**'

jobs:
  test:
    steps:
      - name: Checkout code
        uses: cloudbees-io/checkout@v1

      - name: Set up Python
        uses: docker://python:3.9
        shell: bash
        run: |
          python --version
          pip install --upgrade pip

      - name: Install dependencies
        uses: docker://python:3.9
        shell: bash
        run: |
          pip install selenium pytest

      - name: Run tests
        uses: docker://selenium/standalone-chrome:latest
        shell: bash
        run: |
          pytest test_web_interface.py

      - name: Clean up
        uses: docker://ubuntu:latest
        shell: bash
        run: |
          echo "Cleanup step - add any necessary cleanup commands here"